!function(t){"use strict";t.fn.fitVids=function(e){var a={customSelector:null,ignore:null};if(!document.getElementById("fit-vids-style")){var i=document.head||document.getElementsByTagName("head")[0],n=".fluid-width-video-wrapper{width:100%;position:relative;padding:0;}.fluid-width-video-wrapper iframe,.fluid-width-video-wrapper object,.fluid-width-video-wrapper embed {position:absolute;top:0;left:0;width:100%;height:100%;}",s=document.createElement("div");s.innerHTML='<p>x</p><style id="fit-vids-style">'+n+"</style>",i.appendChild(s.childNodes[1])}return e&&t.extend(a,e),this.each(function(){var e=['iframe[src*="player.vimeo.com"]','iframe[src*="youtube.com"]','iframe[src*="youtube-nocookie.com"]','iframe[src*="kickstarter.com"][src*="video.html"]',"object","embed"];a.customSelector&&e.push(a.customSelector);var i=".fitvidsignore";a.ignore&&(i=i+", "+a.ignore);var n=t(this).find(e.join(","));n=n.not("object object"),n=n.not(i),n.each(function(){var e=t(this);if(!(e.parents(i).length>0||"embed"===this.tagName.toLowerCase()&&e.parent("object").length||e.parent(".fluid-width-video-wrapper").length)){e.css("height")||e.css("width")||!isNaN(e.attr("height"))&&!isNaN(e.attr("width"))||(e.attr("height",9),e.attr("width",16));var a="object"===this.tagName.toLowerCase()||e.attr("height")&&!isNaN(parseInt(e.attr("height"),10))?parseInt(e.attr("height"),10):e.height(),n=isNaN(parseInt(e.attr("width"),10))?e.width():parseInt(e.attr("width"),10),s=a/n;if(!e.attr("name")){var o="fitvid"+t.fn.fitVids._count;e.attr("name",o),t.fn.fitVids._count++}e.wrap('<div class="fluid-width-video-wrapper"></div>').parent(".fluid-width-video-wrapper").css("padding-top",100*s+"%"),e.removeAttr("height").removeAttr("width")}})})},t.fn.fitVids._count=0}(window.jQuery||window.Zepto);
!function(t){t.fn.cardtable=function(e){var a,i=this,s={headIndex:0},n=t.extend({},s,e);return a=e&&e.headIndex?e.headIndex:0,i.each(function(){var e=t(this);if(!e.hasClass("stacktable")){var a=t(this).prop("class"),i=t("<div></div>");"undefined"!=typeof n.myClass&&i.addClass(n.myClass);var s,d,o,r,l,h="";e.addClass("stacktable large-only"),s=e.find("caption").clone(),d=e.find("tr").eq(0),e.siblings().filter(".small-only").remove(),e.find("tbody tr").each(function(){o="",r="",l=t(this).prop("class"),t(this).find("td,th").each(function(e){""!==t(this).html()&&(r+='<tr class="'+l+'">',r+=d.find("td,th").eq(e).html()?'<td class="st-key">'+d.find("td,th").eq(e).html()+"</td>":'<td class="st-key"></td>',r+='<td class="st-val '+t(this).prop("class")+'">'+t(this).html()+"</td>",r+="</tr>")}),h+='<table class=" '+a+' stacktable small-only"><tbody>'+o+r+"</tbody></table>"}),e.find("tfoot tr td").each(function(e,i){""!==t.trim(t(i).text())&&(h+='<table class="'+a+' stacktable small-only"><tbody><tr><td>'+t(i).html()+"</td></tr></tbody></table>")}),i.prepend(s),i.append(t(h)),e.before(i)}})},t.fn.stacktable=function(e){var a,i=this,s={headIndex:0},n=t.extend({},s,e);return a=e&&e.headIndex?e.headIndex:0,i.each(function(){var e=t(this).prop("class"),i=t('<table class="'+e+' stacktable small-only"><tbody></tbody></table>');"undefined"!=typeof n.myClass&&i.addClass(n.myClass);var s,d,o,r,l,h,c="";s=t(this),s.addClass("stacktable large-only"),d=s.find("caption").clone(),o=s.find("tr").eq(0),s.find("tr").each(function(e){r="",l="",h=t(this).prop("class"),0===e?c+='<tr class=" '+h+' "><th class="st-head-row st-head-row-main" colspan="2">'+t(this).find("th,td").eq(a).html()+"</th></tr>":(t(this).find("td,th").each(function(e){e===a?r='<tr class="'+h+'"><th class="st-head-row" colspan="2">'+t(this).html()+"</th></tr>":""!==t(this).html()&&(l+='<tr class="'+h+'">',l+=o.find("td,th").eq(e).html()?'<td class="st-key">'+o.find("td,th").eq(e).html()+"</td>":'<td class="st-key"></td>',l+='<td class="st-val '+t(this).prop("class")+'">'+t(this).html()+"</td>",l+="</tr>")}),c+=r+l)}),i.prepend(d),i.append(t(c)),s.before(i)})},t.fn.stackcolumns=function(e){var a=this,i={},s=t.extend({},i,e);return a.each(function(){var e=t(this),a=e.find("tr").eq(0).find("td,th").length;if(!(3>a)){var i=t('<table class="stacktable small-only"></table>');"undefined"!=typeof s.myClass&&i.addClass(s.myClass),e.addClass("stacktable large-only");for(var n=t("<tbody></tbody>"),d=1;a>d;)e.find("tr").each(function(e){var a=t("<tr></tr>");0===e&&a.addClass("st-head-row st-head-row-main");var i=t(this).find("td,th").eq(0).clone().addClass("st-key"),s=d;if(t(this).find("*[colspan]").length){var o=0;t(this).find("td,th").each(function(){var e=t(this).attr("colspan");return e?(e=parseInt(e,10),s-=e-1,o+e>d&&(s+=o+e-d-1),o+=e):o++,o>d?!1:void 0})}var r=t(this).find("td,th").eq(s).clone().addClass("st-val").removeAttr("colspan");a.append(i,r),n.append(a)}),++d;i.append(t(n)),e.before(i)}})}}(jQuery);
$(function(){function t(){"block"==$(".menu-toggle").css("display")?($("#intro #login").appendTo("#navigation > ul"),$("#intro #tinycart").appendTo("#navigation > ul"),$("#intro #search").prependTo("#navigation > ul")):($("#intro #login").appendTo("#intro"),$("#intro #tinycart").appendTo("#intro"),$("#intro #search").appendTo("#intro"))}$("#pageHeader h2").appendTo("#pageHeader a"),$.fn.moveDown=function(){$.each(this,function(){$(this).before($(this).next())})},$("#category > ul > li > h3").moveDown(),$("#navigation").append('<button class="menu-toggle"><i class="fa fa-bars" aria-hidden="true"></i></button>'),t(),$(window).resize(t),$(".menu-toggle").on("click",function(){$("body").toggleClass("show-menu")}),$("table#prodDisplayBlock").stacktable(),$("table#cart").stacktable(),$("#mainbox").fitVids(),$("#mainbox :not(script)").contents().filter(function(){return 3===this.nodeType}).replaceWith(function(){return this.nodeValue.replace(/[™®©]/g,"<sup>$&</sup>")}),$('a[href*="#"]:not([href="#"])').click(function(){if(location.pathname.replace(/^\//,"")==this.pathname.replace(/^\//,"")&&location.hostname==this.hostname){var t=$(this.hash);if(t=t.length?t:$("[name="+this.hash.slice(1)+"]"),t.length)return $("html, body").animate({scrollTop:t.offset().top},500),!1}})});
